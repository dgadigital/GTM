It documents every task, its purpose, relationships, and how to use the system from scratch.
This version is written for developers â€” concise but thorough, and formatted for GitHub or project handover use.

# ğŸ§© Modular Gulp Build System for WordPress Themes

This Gulp setup automates asset compilation, vendor management, and file generation for custom WordPress themes.  
It ensures consistent folder structures, live-reloading, and ready-to-use SCSS/JS pipelines for fast theme development.

---

## ğŸš€ Quick Start

### 1. **Install Dependencies**
```bash
npm install

2. Start Gulp
gulp


Thatâ€™s it â€” your SCSS, JS, and BrowserSync environment will start automatically.

ğŸ§± Folder Structure
wp-content/
â””â”€â”€ themes/
    â””â”€â”€ your-theme/
        â”œâ”€â”€ assets/
        â”‚   â”œâ”€â”€ js/
        â”‚   â”‚   â”œâ”€â”€ src/
        â”‚   â”‚   â””â”€â”€ dist/
        â”‚   â”œâ”€â”€ scss/
        â”‚   â”‚   â””â”€â”€ sections/
        â”‚   â””â”€â”€ vendor/
        â”œâ”€â”€ sections/
        â”‚   â”œâ”€â”€ partial-hero_banner.php
        â”‚   â”œâ”€â”€ partial-feature_grid.php
        â”‚   â””â”€â”€ ...
        â”œâ”€â”€ functions.php
        â”œâ”€â”€ style.css
        â”œâ”€â”€ header.php
        â”œâ”€â”€ footer.php
        â”œâ”€â”€ index.php
        â”œâ”€â”€ gulp/
        â”‚   â””â”€â”€ tasks/
        â”‚       â”œâ”€â”€ browserSync.js
        â”‚       â”œâ”€â”€ checkJsFolder.js
        â”‚       â”œâ”€â”€ checkScssFolder.js
        â”‚       â”œâ”€â”€ checkVendorEnqueue.js
        â”‚       â”œâ”€â”€ copyVendor.js
        â”‚       â”œâ”€â”€ dbWatch.js
        â”‚       â”œâ”€â”€ default.js
        â”‚       â”œâ”€â”€ detectTheme.js
        â”‚       â”œâ”€â”€ ensureNodeVersion.js
        â”‚       â”œâ”€â”€ generateSectionScss.js
        â”‚       â”œâ”€â”€ generateThemeFiles.js
        â”‚       â”œâ”€â”€ scripts.js
        â”‚       â”œâ”€â”€ scss.js
        â”‚       â””â”€â”€ watch.js
        â”œâ”€â”€ gulpfile.js
        â””â”€â”€ package.json

âš™ï¸ How It Works
ğŸ§­ Core Workflow (gulpfile.js)

The main gulpfile.js automatically:

Checks Node version (ensureNodeVersion.js)

Creates missing WP files (generateThemeFiles.js)

Ensures JS/SCSS folders exist (checkJsFolder.js, checkScssFolder.js)

Copies vendor libraries (copyVendor.js)

Starts default Gulp tasks (default.js)

ğŸ§© Task Breakdown
File	Description	Triggered By
browserSync.js	Sets up BrowserSync proxy for live reload	watch.js
checkJsFolder.js	Ensures /assets/js/src and /assets/js/dist exist; adds default main.js	gulpfile.js
checkScssFolder.js	Ensures /assets/scss and subfolders exist; adds default style.scss	gulpfile.js
checkVendorEnqueue.js	Verifies vendor files are enqueued in functions.php	Manual / optional
copyVendor.js	Copies Bootstrap & Slick from node_modules to /assets/vendor/	default.js
dbWatch.js	Monitors WP REST API (posts, comments, settings) and reloads BrowserSync on change	default.js
default.js	Main entry: runs copyVendor, then parallel tasks (scss, scripts, watch, dbWatch)	gulpfile.js
detectTheme.js	Auto-detects current WP theme path & validates structure	Used by many tasks
ensureNodeVersion.js	Ensures .nvmrc exists with a default Node version (18)	gulpfile.js
generateSectionScss.js	Creates _sectionname.scss for each partial-*.php in /sections	watch.js
generateThemeFiles.js	Creates all missing WP theme files (e.g., functions.php, style.css, etc.)	Manual / gulpfile.js
scripts.js	Bundles and transpiles JS (via Webpack + Babel) to bundle.min.js	default.js
scss.js	Compiles SCSS â†’ CSS, autoprefixes, minifies, writes sourcemaps	default.js
watch.js	Watches SCSS/JS/PHP changes, auto-reloads BrowserSync, and generates SCSS for new sections	default.js
ğŸ”— Task Relationships (Dependency Tree)
gulpfile.js
 â”œâ”€â”€ ensureNodeVersion.js
 â”œâ”€â”€ generateThemeFiles.js
 â”œâ”€â”€ checkJsFolder.js
 â”œâ”€â”€ checkScssFolder.js
 â”œâ”€â”€ copyVendor.js
 â””â”€â”€ default.js
      â”œâ”€â”€ scss.js
      â”‚    â””â”€â”€ detectTheme.js
      â”œâ”€â”€ scripts.js
      â”‚    â””â”€â”€ detectTheme.js
      â”œâ”€â”€ watch.js
      â”‚    â”œâ”€â”€ browserSync.js
      â”‚    â””â”€â”€ generateSectionScss.js
      â””â”€â”€ dbWatch.js


ğŸŸ¡ Standalone tasks (not triggered automatically):

checkVendorEnqueue.js

generateThemeFiles.js

ğŸ§  Optional Enhancements
ğŸ”¹ Auto-run generateThemeFiles.js

Add this near the top of your gulpfile.js:

const generateThemeFiles = require("./gulp/tasks/generateThemeFiles");
generateThemeFiles();

ğŸ”¹ Run vendor verification automatically

In default.js:

gulp.task("default", gulp.series(
  "copyVendor",
  "checkVendorEnqueue", // verify enqueues
  gulp.parallel("scss", "scripts", "watch", "dbWatch")
));

ğŸ§© Example Console Output
âœ… Detected WordPress theme: Digital Growth
âœ… Created missing style.css
âœ… Created missing functions.php
âœ… Created JS source folder: assets/js/src
âœ… Created JS dist folder: assets/js/dist
âœ… Created JS entry file: main.js
âœ… Bootstrap & Slick.js copied to assets/vendor/
Checking vendor enqueues...

âœ… Enqueued: bootstrap.min.css
âœ… Enqueued: bootstrap.bundle.min.js
âœ… Enqueued: slick-theme.css
âœ… Enqueued: slick.css
âœ… Enqueued: slick.min.js

ğŸ§  Watching files...
âš¡ JS source changed â†’ rebuilding bundle...
âœ… JavaScript bundled successfully.

ğŸ§° Available Commands
Command	Description
gulp	Runs full build (copy vendors, compile SCSS/JS, start BrowserSync, DB watcher)
gulp scss	Compiles SCSS only
gulp scripts	Bundles JS only
gulp watch	Watches for file changes only
gulp dbWatch	Runs database watcher manually
node gulp/tasks/checkVendorEnqueue.js	Checks if all vendor assets are enqueued
node gulp/tasks/generateThemeFiles.js	Creates missing theme structure manually
ğŸ§© Requirements

Node.js â‰¥ 18

npm â‰¥ 9

WordPress theme located under wp-content/themes/

ğŸ§© Credits

Developed for modern WordPress theme automation with Gulp, Webpack, and SCSS by Vincent Flores.
Designed for speed, modularity, and team consistency.